import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,o as r,c as p,a as s,b as a,d as i,e as l}from"./app-ygFmrJeo.js";const t={},d=l('<h1 id="godotvideoplayer" tabindex="-1"><a class="header-anchor" href="#godotvideoplayer"><span>GodotVideoPlayer</span></a></h1><h2 id="项目设置" tabindex="-1"><a class="header-anchor" href="#项目设置"><span>项目设置</span></a></h2><ul><li>项目描述</li><li>版本号</li><li>使用自定义用户目录：方便看日志 <ul><li>use custom user dir</li><li>custom user dir name</li></ul></li><li>视口：1920x1080</li><li>禁用垂直同步。播放视频时帧率能更高。</li><li>ClearColor：改为纯黑</li><li>Debug-&gt;File Logging-&gt;Enable File logging 开</li></ul><h2 id="设置gdextension" tabindex="-1"><a class="header-anchor" href="#设置gdextension"><span>设置gdextension</span></a></h2><h3 id="流程" tabindex="-1"><a class="header-anchor" href="#流程"><span>流程</span></a></h3>',5),c=s("li",null,[s("code",null,"git submodule add -b 4.2 https://github.com/godotengine/godot-cpp gd_extensions/godot_cpp"),a(" 添加子模块，版本需要对应")],-1),k=s("li",null,"Sconstruct",-1),h={href:"http://build.py",target:"_blank",rel:"noopener noreferrer"},B=s("li",null,"gozen.gdextension",-1),y=s("li",null,"插件编写",-1),u=l(`<div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="shiki shiki-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"># Sconstruct</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">import</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> os</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">env </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#61AFEF;"> SConscript</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;../godot_cpp/SConstruct&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">env.</span><span style="color:#24292E;--shiki-dark:#61AFEF;">Append</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;">CPPPATH</span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;src&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">dest_dir </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;"> &quot;../../src/bin/gozen/&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">num_jobs </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> ARGUMENTS</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#24292E;--shiki-dark:#61AFEF;">get</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;jobs&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#005CC5;--shiki-dark:#D19A66;">16</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">platform </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#005CC5;--shiki-dark:#D19A66;"> ARGUMENTS</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#24292E;--shiki-dark:#61AFEF;">get</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;platform&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;windows&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">src </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#61AFEF;"> Glob</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;src/*.cpp&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">libpath </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#032F62;--shiki-dark:#98C379;"> &#39;</span><span style="color:#005CC5;--shiki-dark:#D19A66;">{}</span><span style="color:#032F62;--shiki-dark:#98C379;">libgozen</span><span style="color:#005CC5;--shiki-dark:#D19A66;">{}{}</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#24292E;--shiki-dark:#61AFEF;">format</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(dest_dir, env[</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;suffix&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">], env[</span><span style="color:#032F62;--shiki-dark:#98C379;">&#39;SHLIBSUFFIX&#39;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">shardlib </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> env.</span><span style="color:#24292E;--shiki-dark:#61AFEF;">SharedLibrary</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(libpath, src)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#61AFEF;">Default</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(shardlib)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="shiki shiki-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">#  build.py</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">import</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> os</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">os.</span><span style="color:#24292E;--shiki-dark:#61AFEF;">chdir</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;gd_extensions/gozen&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">os.</span><span style="color:#24292E;--shiki-dark:#61AFEF;">system</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;scons -j 16 target=template_debug&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">os.</span><span style="color:#24292E;--shiki-dark:#61AFEF;">chdir</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;../..&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="shiki shiki-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="color:#032F62;--shiki-dark:#98C379;">configuration</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">entry_symbol = &quot;gozen_library_init&quot;</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">compatibility_minimum = 4.2</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">reloadable = true</span><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;"> # 热更新dll</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="color:#032F62;--shiki-dark:#98C379;">libraries</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">windows.debug.x86_64 = &quot;res://bin/gozen/libgozen.windows.template_debug.x86_64.dll&quot;</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">windows.release.x86_64 = &quot;res://bin/gozen/libgozen.windows.template_release.x86_64.dll&quot;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cpp-include" tabindex="-1"><a class="header-anchor" href="#cpp-include"><span>cpp include</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="shiki shiki-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">&quot;includePath&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">: [</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">		&quot;\${workspaceFolder}/**&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">		&quot;\${workspaceFolder}/gd_extensions/godot_cpp/**&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">		&quot;\${workspaceFolder}/gd_extensions/godot_cpp/include/**&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">		&quot;\${workspaceFolder}/gd_extensions/godot_cpp/gen/**&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="color:#032F62;--shiki-dark:#98C379;">		&quot;\${workspaceFolder}/gd_extensions/godot_cpp/src/**&quot;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">	]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="插件编写" tabindex="-1"><a class="header-anchor" href="#插件编写"><span>插件编写</span></a></h3><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="shiki shiki-themes github-light one-dark-pro" style="background-color:#fff;--shiki-dark-bg:#282c34;color:#24292e;--shiki-dark:#abb2bf;" tabindex="0"><code><span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">// register_types.hpp</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">#pragma</span><span style="color:#6F42C1;--shiki-dark:#D19A66;"> once</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">#include</span><span style="color:#032F62;--shiki-dark:#98C379;"> &lt;gdextension_interface.h&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">#include</span><span style="color:#032F62;--shiki-dark:#98C379;"> &lt;godot_cpp/core/class_db.hpp&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">#include</span><span style="color:#032F62;--shiki-dark:#98C379;"> &lt;godot_cpp/core/defs.hpp&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">#include</span><span style="color:#032F62;--shiki-dark:#98C379;"> &lt;godot_cpp/godot.hpp&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">using</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> godot</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> initialize_gozen_library_init_module</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;">ModuleInitializationLevel</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> p_level</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> uninitialize_gozen_library_init_module</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;">ModuleInitializationLevel</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> p_level</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">// register_types.cpp</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">#include</span><span style="color:#032F62;--shiki-dark:#98C379;"> &quot;register_types.hpp&quot;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">#include</span><span style="color:#032F62;--shiki-dark:#98C379;"> &quot;Video.hpp&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> initialize_gozen_library_init_module</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;">ModuleInitializationLevel</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> p_level</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> (p_level </span><span style="color:#D73A49;--shiki-dark:#C678DD;">!=</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> MODULE_INITIALIZATION_LEVEL_SCENE)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">	// 将Video类注册到ClassDB以在Godot中使用</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF;">    ClassDB</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">register_class</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;">Video</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">&gt;();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> uninitialize_gozen_library_init_module</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;">ModuleInitializationLevel</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> p_level</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    if</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> (p_level </span><span style="color:#D73A49;--shiki-dark:#C678DD;">!=</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> MODULE_INITIALIZATION_LEVEL_SCENE)</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">        return</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">extern</span><span style="color:#032F62;--shiki-dark:#98C379;"> &quot;C&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">    // Initialization.</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    GDExtensionBool GDE_EXPORT </span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">gozen_library_init</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(GDExtensionInterfaceGetProcAddress p_get_proc_address, GDExtensionClassLibraryPtr p_library, GDExtensionInitialization </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">*</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">r_initialization) {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF;">        godot</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">::</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF;">GDExtensionBinding</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">::InitObject </span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">init_obj</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(p_get_proc_address, p_library, r_initialization);</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">		// 注册模块初始化方法和注销方法</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        init_obj</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">register_initializer</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(initialize_gozen_library_init_module);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        init_obj</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">register_terminator</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(uninitialize_gozen_library_init_module);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#E5C07B;">        init_obj</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">set_minimum_library_initialization_level</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(MODULE_INITIALIZATION_LEVEL_SCENE);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">        return</span><span style="color:#24292E;--shiki-dark:#E5C07B;"> init_obj</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">init</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">// Video.hpp</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">#pragma</span><span style="color:#6F42C1;--shiki-dark:#D19A66;"> once</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">#include</span><span style="color:#032F62;--shiki-dark:#98C379;"> &lt;godot_cpp/classes/control.hpp&gt;</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">#include</span><span style="color:#032F62;--shiki-dark:#98C379;"> &lt;godot_cpp/variant/utility_functions.hpp&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">using</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> namespace</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> godot</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">class</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> Video</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> : </span><span style="color:#D73A49;--shiki-dark:#C678DD;">public</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;"> Resource</span><span style="color:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#61AFEF;">	GDCLASS</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;">Video</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#6F42C1;--shiki-dark:#E5C07B;">Resource</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">public:</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">    inline</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> print_something</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#6F42C1;--shiki-dark:#E5C07B;">String</span><span style="color:#E36209;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic;"> text</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF;">        UtilityFunctions</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">print_rich</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">String</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;[b]Text[/b]: {text}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">).</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">replace</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;{text}&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, text));</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">protected:</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#7F848E;font-style:inherit;--shiki-dark-font-style:italic;">	// 绑定方法，注册方法信息。以在Godot中正常调用。</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#C678DD;">	static</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> inline</span><span style="color:#D73A49;--shiki-dark:#C678DD;"> void</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;"> _bind_methods</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="color:#6F42C1;--shiki-dark:#ABB2BF;">        ClassDB</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">::</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">bind_method</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#6F42C1;--shiki-dark:#61AFEF;">D_METHOD</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;print_something&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="color:#032F62;--shiki-dark:#98C379;">&quot;text&quot;</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">), </span><span style="color:#D73A49;--shiki-dark:#56B6C2;">&amp;</span><span style="color:#6F42C1;--shiki-dark:#ABB2BF;">Video</span><span style="color:#24292E;--shiki-dark:#ABB2BF;">::print_something);</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ffmpeg" tabindex="-1"><a class="header-anchor" href="#ffmpeg"><span>FFmpeg</span></a></h2>`,8),F={href:"https://ffmpeg.org/doxygen/6.1/index.html",target:"_blank",rel:"noopener noreferrer"},v=s("p",null,[s("code",null,"git submodule add -b release/6.1 https://github.com/FFmpeg/FFmpeg gd_extensions/gozen/ffmpeg")],-1),m=s("div",{class:"hint-container note"},[s("p",{class:"hint-container-title"},"注"),s("p",null,[a("移动git子模块，使用git mv"),s("br"),a(" git mv gd_extensions/gozen/ffmpeg other/ffmpeg")])],-1);function A(E,b){const n=o("ExternalLinkIcon");return r(),p("div",null,[d,s("ol",null,[c,k,s("li",null,[s("a",h,[a("build.py"),i(n)])]),B,y]),u,s("p",null,[s("a",F,[a("6.1 API 文档"),i(n)])]),v,m])}const D=e(t,[["render",A],["__file","GodotVideoPlayer.html.vue"]]),_=JSON.parse('{"path":"/gamedev/GodotVideoPlayer.html","title":"GodotVideoPlayer","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2024-05-23T00:00:00.000Z","sticky":false,"star":false,"comment":true,"category":["Game"],"tags":["hazel"],"description":"GodotVideoPlayer","head":[["meta",{"property":"og:url","content":"https://1e0nhardt.github.io/gamedev/GodotVideoPlayer.html"}],["meta",{"property":"og:site_name","content":"宁静致远"}],["meta",{"property":"og:title","content":"GodotVideoPlayer"}],["meta",{"property":"og:description","content":"GodotVideoPlayer"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-25T16:58:41.000Z"}],["meta",{"property":"article:author","content":"leonhardt"}],["meta",{"property":"article:tag","content":"hazel"}],["meta",{"property":"article:published_time","content":"2024-05-23T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-05-25T16:58:41.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"GodotVideoPlayer\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-05-23T00:00:00.000Z\\",\\"dateModified\\":\\"2024-05-25T16:58:41.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"leonhardt\\",\\"url\\":\\"/intro.html\\"}]}"]]},"headers":[{"level":2,"title":"项目设置","slug":"项目设置","link":"#项目设置","children":[]},{"level":2,"title":"设置gdextension","slug":"设置gdextension","link":"#设置gdextension","children":[{"level":3,"title":"流程","slug":"流程","link":"#流程","children":[]},{"level":3,"title":"cpp include","slug":"cpp-include","link":"#cpp-include","children":[]},{"level":3,"title":"插件编写","slug":"插件编写","link":"#插件编写","children":[]}]},{"level":2,"title":"FFmpeg","slug":"ffmpeg","link":"#ffmpeg","children":[]}],"git":{"createdTime":1716656321000,"updatedTime":1716656321000,"contributors":[{"name":"1e0nhardt","email":"huwkigane@gmail.com","commits":1}]},"readingTime":{"minutes":1.37,"words":412},"filePathRelative":"gamedev/GodotVideoPlayer.md","localizedDate":"2024年5月23日","excerpt":""}');export{D as comp,_ as data};
